{% extends "StolarzBundle:Default:base.html.twig" %}

{% block title %}Zamówienie klienta {{ customer.name }} {% endblock %}

{% block content %}
    <h1>Zamówienie klienta {{ customer.name }}</h1>
    <h2>Zamówienie nr: {{ orderId }}</h2>
    <h5>Lista elementów:</h5>

    {#{% if confirmation is not null %}#}
        {#{{ confirmation }}<br>#}
    {#{% endif %}#}

    {#{{ dump(orderId) }}#}

    {#{% if exist is not null %}#}
        {#<font color = "red"><b>Materiał o id {{ exist }} nie istnieje.</b></font><br>#}
    {#{% endif %}#}

    {#{% if deleted is not null %}#}
        {#Materiał {{ deleted.name }} skasowany.<br>#}
    {#{% endif %}#}

    <a href="{{ path('createElement') }}">Dodaj nowy element</a><br><br>

    <table border = "1" rules = "all">
        <tr>
            <td>Id</td>
            <td>Sztuk</td>
            <td>Materiał</td>
            <td>Długość</td>
            <td>Obrzeże 1</td>
            <td>Obrzeże 2</td>
            <td>Szerokość</td>
            <td>Obrzeże 1</td>
            <td>Obrzeże 2</td>
            <td>Obrotowo</td>
            {#<td></td>#}
        </tr>

        {% if orderElements is empty %}
            <font color="red"><b>Brak elementów w zamówieniu. Dodaj nowe elementy.</b></font>
        {% else %}
            {% set i = 0 %}
            {% for element in orderElements %}
                {% set i = i + 1 %}
                <tr>
                    <td>{{ i }}</td>
                    <td>{{ element.quantity }}</td>
                    <td>{{ element.material }}</td>
                    <td>{{ element.lenght }}</td>
                    <td>{{ allEdges[element.edgeLenght1.id - 1].name }}</td>
                    <td>{{ allEdges[element.edgeLenght2.id - 1].name }}</td>
                    <td>{{ element.width }}</td>
                    <td>{{ allEdges[element.edgeWidth1.id - 1].name }}</td>
                    <td>{{ allEdges[element.edgeWidth2.id - 1].name }}</td>
                    <td>
                        {% if element.rotatable == true %}
                            Tak
                        {% else %}
                            Nie
                        {% endif %}
                    </td>
                    {#<td>{{ dump(element) }}</td>#}
                    {#<td><a href="{{ path('deleteMaterial', {'id':material.id}) }}">Usuń materiał</a></td>#}
                </tr>
            {% endfor %}
        {% endif %}

    </table>
{% endblock %}

{% block footer %}
    {{ parent() }}
{% endblock %}